# VR Ферма (VR-Ferma)

VR фермерский симулятор, созданный на Unity с использованием XR Interaction Toolkit.

## Описание

Игра представляет собой уютный VR симулятор фермы, где игрок может:
- Сажать и выращивать различные культуры (морковь, помидоры, тыква, кукуруза)
- Ухаживать за животными (куры, коровы, свиньи, овцы)
- Поливать растения и собирать урожай
- Торговать с NPC и зарабатывать деньги
- Получать достижения за выполнение различных задач
- Проходить обучающие уровни

## Структура проекта

### Основные скрипты

#### Менеджеры игры
- **GameManager.cs** - Главный менеджер игры, управляет общим состоянием (деньги, уровень, время)
- **CropManager.cs** - Управляет посадкой, выращиванием и сбором урожая
- **AnimalManager.cs** - Управляет животными на ферме
- **AchievementManager.cs** - Система достижений
- **TutorialManager.cs** - Система туториала и уровней обучения
- **UIManager.cs** - Управление UI интерфейсом
- **TradingSystem.cs** - Система торговли и продажи

#### Компоненты объектов
- **PlantedCrop.cs** - Компонент для посаженного растения
- **FarmAnimal.cs** - Компонент для животного на ферме

#### VR взаимодействия
- **SeedBag.cs** - Мешок с семенами, который можно взять в VR
- **Seed.cs** - Семя, которое можно посадить
- **WateringCan.cs** - Лейка для полива растений
- **CropInteractable.cs** - Взаимодействие с растениями в VR
- **AnimalInteractable.cs** - Взаимодействие с животными в VR
- **NPCInteractable.cs** - Взаимодействие с NPC (торговцем)

## Система уровней (Туториал)

### Уровень 0: Введение и настройка
- Знакомство с окружением
- Изучение основных элементов фермы

### Уровень 1: Посадка урожая
1. Посадка первой культуры
2. Полив растений
3. Сбор урожая

### Уровень 2: Уход за животными
1. Кормление животных
2. Поение животных

### Уровень 3: Посадка и сбор урожая
1. Посадка урожая на продажу
2. Сбор урожая

### Уровень 4: Торговля и продажа
1. Продажа урожая торговцу

## Система достижений

### Достижения за урожай:
- **Посади урожай!** - Посади первые культуры
- **Отличный урожай!** - Собери урожай
- **Посади морковь!** - Посади морковь
- **Посади помидоры!** - Посади помидоры
- **Посади тыкву!** - Посади тыкву (если возможно)

### Достижения за животных:
- **Покорми цыплят!** - Покорми цыплят
- **Ах ах ах, ты цыпленок!** - Особое достижение
- **Отличный фермер!** - Ухаживай за животными
- **Животные накормлены!** - Накорми всех животных
- **Отличный фермер урожай!** - Покорми и напои всех животных на ферме

## Настройка сцены

### Необходимые объекты:

1. **GameManager** (GameObject)
   - Компонент: `GameManager`
   - Назначьте ссылки на другие менеджеры

2. **CropManager** (GameObject)
   - Компонент: `CropManager`
   - Настройте типы культур в инспекторе
   - Назначьте префабы семян и растений

3. **AnimalManager** (GameObject)
   - Компонент: `AnimalManager`
   - Настройте типы животных в инспекторе
   - Назначьте префабы животных

4. **AchievementManager** (GameObject)
   - Компонент: `AchievementManager`

5. **TutorialManager** (GameObject)
   - Компонент: `TutorialManager`

6. **TradingSystem** (GameObject)
   - Компонент: `TradingSystem`

7. **UIManager** (GameObject)
   - Компонент: `UIManager`
   - Назначьте UI элементы (TextMeshProUGUI для денег, инструкций и т.д.)

### VR объекты:

1. **Мешки с семенами** (GameObject)
   - Компоненты: `XRGrabInteractable`, `SeedBag`
   - Настройте тип семян и количество

2. **Лейка** (GameObject)
   - Компоненты: `XRGrabInteractable`, `WateringCan`
   - Настройте емкость и скорость полива

3. **Растения** (GameObject)
   - Компоненты: `PlantedCrop`, `XRSimpleInteractable`, `CropInteractable`
   - Настройте стадии роста (seed, growing, ready)

4. **Животные** (GameObject)
   - Компоненты: `FarmAnimal`, `XRSimpleInteractable`, `AnimalInteractable`
   - Настройте индикаторы состояния

5. **NPC/Торговец** (GameObject)
   - Компоненты: `XRSimpleInteractable`, `NPCInteractable`

## Использование

### Посадка растений:
1. Возьмите мешок с семенами (XRGrabInteractable)
2. Активируйте мешок (кнопка на контроллере) для получения семени
3. Бросьте семя на землю для посадки

### Полив растений:
1. Возьмите лейку
2. Наполните её водой (подойдите к объекту с тегом "Water")
3. Активируйте лейку и направьте на растение

### Сбор урожая:
1. Подойдите к готовому растению
2. Взаимодействуйте с ним (XRSimpleInteractable)

### Уход за животными:
1. Подойдите к животному
2. Взаимодействуйте с ним для кормления или поения

### Торговля:
1. Подойдите к торговцу (NPC)
2. Взаимодействуйте с ним
3. Урожай автоматически продается

## Технические требования

- Unity 2021.3 или выше
- XR Interaction Toolkit 3.1.2 или выше
- VR устройство (Oculus, SteamVR и т.д.)

## Примечания

- Все скрипты находятся в namespace `VRFerma` и `VRFerma.VR`
- Система использует события (Events) для связи между компонентами
- Туториал автоматически отслеживает действия игрока
- Достижения разблокируются автоматически при выполнении условий

## Дальнейшее развитие

- Добавление большего количества типов культур и животных
- Расширенная система торговли с разными NPC
- Система квестов
- Улучшение визуальных эффектов
- Звуковое сопровождение
- Сохранение прогресса
